[SERVICE]
    Flush        1
    Grace        1
    Log_Level    error

[INPUT]
    name         dummy
    samples      1

[OUTPUT]
    name         file
    match        dummy.*
    file         ${SIGNAL_FILE_PATH}
    mkdir        on

[INPUT]
    name   opentelemetry
    tag_from_uri True
    tag    target_input
    listen ${LISTENER_HOST}
    port   ${LISTENER_PORT}

[FILTER]
    Name         expect
    Match        target_input
    Log_Level    debug

# Use explicit matches on what tag_from_uri should be setting for each
# of the three OpenTelemetry signal types
[OUTPUT]
    Name         exit
    Match        v1_logs
[OUTPUT]
    Name         exit
    Match        v1_metrics
[OUTPUT]
    Name         exit
    Match        v1_traces
